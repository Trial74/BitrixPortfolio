!function(){"use strict";window.JCNewsDetail||(window.JCNewsDetail=function(e){this.visual={ID:""},this.obItem=null,this.errorCode=0,"object"==typeof e&&(this.visual=e.VISUAL,BX.ready(BX.delegate(this.init,this)))},window.JCNewsDetail.prototype={init:function(){if(this.obItem=BX(this.visual.ID),this.obItem||(this.errorCode=-1),0===this.errorCode&&(this.obGallery=this.obItem.querySelector(".news-detail-gallery-items"),this.obGallery)){var e=this.obGallery.querySelectorAll(".fancyimage");e&&$(e).fancybox({helpers:{title:{type:"inside",position:"bottom"}}}),this.adjustGallery(),BX.bind(window,"resize",BX.proxy(this.adjustGallery,this))}},adjustGallery:function(){var e=this.obGallery.querySelectorAll(".news-detail-gallery-item-bg");if(e)for(var t in e)e.hasOwnProperty(t)&&BX.remove(e[t].parentNode);var i=this.obGallery.querySelectorAll(".news-detail-gallery-item").length,l=window.innerWidth>=992?4:2,r=l*Math.ceil(i/l)-i;for(t=0;t<r;t++)this.obGallery.appendChild(BX.create("DIV",{props:{className:"col-xs-6 col-md-3"},children:[BX.create("DIV",{props:{className:"news-detail-gallery-item news-detail-gallery-item-bg"}})]}));var a=this.obGallery.querySelectorAll(".news-detail-gallery-item");if(a)for(var t in a)if(a.hasOwnProperty(t)){var s=a[t].querySelector(".news-detail-gallery-item-image");s&&BX.style(s,"height",Math.ceil(a[t].offsetWidth/(4/3))+"px");var o=a[t].querySelector(".news-detail-gallery-item-caption-wrap");o&&BX.style(o,"height",Math.ceil(a[t].offsetWidth/(4/3))+"px"),BX.hasClass(a[t],"news-detail-gallery-item-bg")&&BX.style(a[t],"height",Math.ceil(a[t].offsetWidth/(4/3))+"px")}}})}();