function JCSmartFilter(t,e){this.ajaxURL=t,this.form=null,this.timer=null,this.cacheKey="",this.cache=[],this.popups=[],e&&e.SEF_SET_FILTER_URL&&(this.bindUrlToButton("set_filter",e.SEF_SET_FILTER_URL),this.sef=!0),e&&e.SEF_DEL_FILTER_URL&&this.bindUrlToButton("del_filter",e.SEF_DEL_FILTER_URL),BX.ready(BX.delegate(this.init,this))}JCSmartFilter.prototype.init=function(){if(this.filter=document.body.querySelector(".bx-filter"),this.filter){this.filterInner=this.filter.querySelector(".bx-filter-inner"),this.filterButtonBox=this.filter.querySelector(".bx-filter-button-box"),this.filterButtonBoxFixed=!1,this.btnShowFilter=document.body.querySelector('[data-entity="showFilter"]'),this.filterToogle=BX("catalog-section-filter-toggle"),this.adjustFilter(),BX.bind(window,"resize",BX.proxy(this.adjustFilter,this));var t=document.body.querySelectorAll(".catalog-section-filter-link");if(t){var e=BX.clone(this.filter);for(var i in t)t.hasOwnProperty(i)&&BX.type.isDomNode(t[i])&&BX.bind(t[i],"click",BX.delegate(function(){var t=BX.proxy_context&&BX.proxy_context.id;if(t){var i=e.querySelector('[id="'+t+'"]');if(i){switch(i.type.toLowerCase()){case"text":case"textarea":case"password":case"hidden":case"select-one":i.value.length&&(i.value="");break;case"radio":case"checkbox":i.checked&&(i.checked=!1);break;case"select-multiple":for(var r=0;r<i.options.length;r++)i.options[r].selected&&(i.options[r].selected=!1)}this.reload(i,!0)}}},this))}}},JCSmartFilter.prototype.adjustFilter=function(){if(this.filterToogle)BX.isNodeHidden(this.filterToogle.parentNode)?(this.btnShowFilter&&(BX.bind(this.btnShowFilter,"click",BX.proxy(this.showFilter,this)),BX.bind(document,"click",BX.proxy(this.checkFilterClick,this)),BX.bind(document,"keydown",BX.proxy(this.checkFilterKeydown,this))),BX.unbind(this.filterToogle,"bxchange",BX.proxy(this.changeFilterToogle,this)),this.filterButtonBox&&this.filterButtonBoxFixed&&(this.filterButtonBoxFixed=!1,this.filter.removeAttribute("style"),BX.removeClass(this.filterButtonBox,"fixed"),BX.unbind(window,"scroll",BX.proxy(this.checkFilterButtonBoxScroll,this)))):(BX.hasClass(this.filter,"active")&&this.hideFilter(),BX.bind(this.filterToogle,"bxchange",BX.proxy(this.changeFilterToogle,this)),this.filterButtonBox&&(this.checkFilterButtonBoxScroll(),BX.bind(window,"scroll",BX.proxy(this.checkFilterButtonBoxScroll,this))),this.btnShowFilter&&(BX.unbind(this.btnShowFilter,"click",BX.proxy(this.showFilter,this)),BX.unbind(document,"click",BX.proxy(this.checkFilterClick,this)),BX.unbind(document,"keydown",BX.proxy(this.checkFilterKeydown,this))));else{var t=BX.hasClass(document.body,"smart-filter-view-left-active");!t||t&&window.innerWidth<1272?(this.btnShowFilter&&(BX.bind(this.btnShowFilter,"click",BX.proxy(this.showFilter,this)),BX.bind(document,"click",BX.proxy(this.checkFilterClick,this)),BX.bind(document,"keydown",BX.proxy(this.checkFilterKeydown,this))),this.filterButtonBox&&this.filterButtonBoxFixed&&(this.filterButtonBoxFixed=!1,this.filter.removeAttribute("style"),BX.removeClass(this.filterButtonBox,"fixed"),BX.unbind(window,"scroll",BX.proxy(this.checkFilterButtonBoxScroll,this)))):t&&window.innerWidth>=1272&&(BX.hasClass(this.filter,"active")&&this.hideFilter(),this.filterButtonBox&&(this.checkFilterButtonBoxScroll(),BX.bind(window,"scroll",BX.proxy(this.checkFilterButtonBoxScroll,this))),this.btnShowFilter&&(BX.unbind(this.btnShowFilter,"click",BX.proxy(this.showFilter,this)),BX.unbind(document,"click",BX.proxy(this.checkFilterClick,this)),BX.unbind(document,"keydown",BX.proxy(this.checkFilterKeydown,this))))}},JCSmartFilter.prototype.showFilter=function(t){this.filterInner&&(BX.addClass(this.filterInner,"scrollbar-inner"),$(this.filterInner).scrollbar());var e=window.innerWidth-document.body.clientWidth;if(e>0){BX.style(document.body,"padding-right",e+"px");var i=document.body.querySelector(".top-panel");if(i){BX.hasClass(i,"fixed")&&BX.style(i,"padding-right",e+"px");var r=i.querySelector(".top-panel__thead");r&&BX.hasClass(r,"fixed")&&BX.style(r,"padding-right",e+"px");var o=i.querySelector(".top-panel__tfoot");o&&BX.hasClass(o,"fixed")&&BX.style(o,"padding-right",e+"px")}var s=document.body.querySelector(".catalog-section-panel");s&&BX.hasClass(s,"fixed")&&BX.style(s,"padding-right",e+"px")}var n=BX.GetWindowScrollPos().scrollTop;n&&n>0&&BX.style(document.body,"top","-"+n+"px"),BX.addClass(document.body,"slide-panel-active"),BX.addClass(this.filter,"active"),document.body.querySelector(".slide-panel__backdrop")||document.body.appendChild(BX.create("DIV",{props:{className:"modal-backdrop slide-panel__backdrop fadeInBig"}})),t.stopPropagation()},JCSmartFilter.prototype.checkFilterClick=function(t){BX.hasClass(this.filter,"active")&&(!BX.findParent(t.target,{className:"bx-filter"})||BX.findParent(t.target,{className:"bx-filter-close"})||BX.hasClass(t.target,"bx-filter-close"))&&(this.hideFilter(),t.stopPropagation())},JCSmartFilter.prototype.checkFilterKeydown=function(t){BX.hasClass(this.filter,"active")&&27==t.keyCode&&(this.hideFilter(),t.stopPropagation())},JCSmartFilter.prototype.hideFilter=function(){this.filterInner&&BX.hasClass(this.filterInner,"scrollbar-inner")&&(this.filterInner.removeAttribute("style"),BX.removeClass(this.filterInner,"scrollbar-inner"),$(this.filterInner).scrollbar("destroy")),BX.removeClass(this.filter,"active"),BX.removeClass(document.body,"slide-panel-active"),BX.style(document.body,"padding-right","");var t=Math.abs(parseInt(BX.style(document.body,"top"),10));t&&t>0&&(window.scrollTo(0,t),BX.style(document.body,"top",""));var e=document.body.querySelector(".top-panel");if(e){BX.style(e,"padding-right","");var i=e.querySelector(".top-panel__thead");i&&BX.style(i,"padding-right","");var r=e.querySelector(".top-panel__tfoot");r&&BX.style(r,"padding-right","")}var o=document.body.querySelector(".catalog-section-panel");o&&BX.style(o,"padding-right","");var s=document.body.querySelector(".slide-panel__backdrop");s&&new BX.easing({duration:300,start:{opacity:100},finish:{opacity:0},transition:BX.easing.transitions.linear,step:function(t){s.style.opacity=t.opacity/100},complete:function(){BX.remove(s)}}).animate()},JCSmartFilter.prototype.changeFilterToogle=function(){this.filterToogle.checked?(BX.addClass(document.body,"smart-filter-view-left-active"),BX.setCookie(BX.message("COOKIE_NAME")+"_ENEXT_SMART_FILTER_LEFT","OPEN",{expires:32832e3,path:"/",secure:!1})):(BX.removeClass(document.body,"smart-filter-view-left-active"),BX.setCookie(BX.message("COOKIE_NAME")+"_ENEXT_SMART_FILTER_LEFT","CLOSED",{expires:32832e3,path:"/",secure:!1})),this.filterButtonBox&&this.checkFilterButtonBoxScroll()},JCSmartFilter.prototype.checkFilterButtonBoxScroll=function(){var t=this.filterButtonBox.offsetHeight;!this.filterButtonBoxFixed&&this.filter.getBoundingClientRect().bottom>=window.innerHeight&&this.filter.getBoundingClientRect().top+t<=window.innerHeight&&BX.hasClass(document.body,"smart-filter-view-left-active")?(this.filterButtonBoxFixed=!0,BX.style(this.filter,"paddingBottom",t+"px"),BX.addClass(this.filterButtonBox,"fixed")):this.filterButtonBoxFixed&&(this.filter.getBoundingClientRect().bottom<window.innerHeight||this.filter.getBoundingClientRect().top+t>window.innerHeight||!BX.hasClass(document.body,"smart-filter-view-left-active"))&&(this.filterButtonBoxFixed=!1,this.filter.removeAttribute("style"),BX.removeClass(this.filterButtonBox,"fixed"))},JCSmartFilter.prototype.keyup=function(t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.delegate(function(){this.reload(t,!1)},this),500)},JCSmartFilter.prototype.click=function(t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.delegate(function(){this.reload(t,!1)},this),500)},JCSmartFilter.prototype.reload=function(t,e){if(""!==this.cacheKey)return this.timer&&clearTimeout(this.timer),void(this.timer=setTimeout(BX.delegate(function(){this.reload(t,e)},this),1e3));if(this.cacheKey="|",this.position=BX.pos(t,!0),this.form=BX.findParent(t,{tag:"form"}),this.form){var i=[];i[0]={name:"ajax",value:"y"},this.gatherInputsValues(i,BX.findChildren(this.form,{tag:new RegExp("^(input|select)$","i")},!0));for(var r=0;r<i.length;r++)this.cacheKey+=i[r].name+":"+i[r].value+"|";if(this.needReload=e,this.cache[this.cacheKey])this.curFilterinput=t,this.postHandler(this.cache[this.cacheKey],!0);else{if(this.sef)BX("set_filter").disabled=!0;this.curFilterinput=t,BX.ajax.loadJSON(this.ajaxURL,this.values2post(i),BX.delegate(this.postHandler,this))}}},JCSmartFilter.prototype.updateItem=function(t,e){if("N"===e.PROPERTY_TYPE||e.PRICE){var i=window["trackBar"+t];!i&&e.ENCODED_ID&&(i=window["trackBar"+e.ENCODED_ID]),i&&e.VALUES&&(e.VALUES.MIN&&(e.VALUES.MIN.FILTERED_VALUE?i.setMinFilteredValue(e.VALUES.MIN.FILTERED_VALUE):i.setMinFilteredValue(e.VALUES.MIN.VALUE)),e.VALUES.MAX&&(e.VALUES.MAX.FILTERED_VALUE?i.setMaxFilteredValue(e.VALUES.MAX.FILTERED_VALUE):i.setMaxFilteredValue(e.VALUES.MAX.VALUE)))}else if(e.VALUES)for(var r in e.VALUES)if(e.VALUES.hasOwnProperty(r)){var o=e.VALUES[r],s=BX(o.CONTROL_ID);if(s){var n=document.querySelector('[data-role="label_'+o.CONTROL_ID+'"]');o.DISABLED?(n?BX.addClass(n,"disabled"):BX.addClass(s.parentNode,"disabled"),BX.adjust(s,{props:{disabled:!0}})):(n?BX.removeClass(n,"disabled"):BX.removeClass(s.parentNode,"disabled"),BX.adjust(s,{props:{disabled:!1}})),o.hasOwnProperty("ELEMENT_COUNT")&&(n=document.querySelector('[data-role="count_'+o.CONTROL_ID+'"]'))&&(n.innerHTML=o.ELEMENT_COUNT)}}},JCSmartFilter.prototype.postHandler=function(t,e){var i,r,o=document.querySelector(".bx-filter-count");if(t&&t.ITEMS){for(var s in this.popups)this.popups.hasOwnProperty(s)&&this.popups[s].destroy();for(var n in this.popups=[],t.ITEMS)t.ITEMS.hasOwnProperty(n)&&this.updateItem(n,t.ITEMS[n]);if(o&&(o.innerHTML=t.ELEMENT_COUNT),t.INSTANT_RELOAD&&t.COMPONENT_CONTAINER_ID){if(i=BX.util.htmlspecialcharsback(t.FILTER_AJAX_URL),r=BX(t.COMPONENT_CONTAINER_ID)){var l=BX.showWait(r);BX.ajax.get(i,BX.delegate(function(t){r.innerHTML=t,this.hideFilter(),BX.closeWait(r,l)},this))}}else o&&"none"===o.style.display&&(o.style.display="inline-block"),t.SEF_SET_FILTER_URL&&(this.bindUrlToButton("set_filter",t.SEF_SET_FILTER_URL),this.needReload&&(window.location.href=t.SEF_SET_FILTER_URL))}this.sef&&(BX("set_filter").disabled=!1);e||""===this.cacheKey||(this.cache[this.cacheKey]=t),this.cacheKey=""},JCSmartFilter.prototype.bindUrlToButton=function(t,e){var i,r,o=BX(t);if(o){"submit"==o.type&&(o.type="button"),BX.bind(o,"click",(i=e,r=function(t){return window.location.href=t,!1},function(){return r(i)}))}},JCSmartFilter.prototype.gatherInputsValues=function(t,e){if(e)for(var i=0;i<e.length;i++){var r=e[i];if(!r.disabled&&r.type)switch(r.type.toLowerCase()){case"text":case"textarea":case"password":case"hidden":case"select-one":r.value.length&&(t[t.length]={name:r.name,value:r.value});break;case"radio":case"checkbox":r.checked&&(t[t.length]={name:r.name,value:r.value});break;case"select-multiple":for(var o=0;o<r.options.length;o++)r.options[o].selected&&(t[t.length]={name:r.name,value:r.options[o].value})}}},JCSmartFilter.prototype.values2post=function(t){for(var e=[],i=e,r=0;r<t.length;){var o=t[r].name.indexOf("[");if(-1==o)i[t[r].name]=t[r].value,i=e,r++;else{var s=t[r].name.substring(0,o),n=t[r].name.substring(o+1);i[s]||(i[s]=[]);var l=n.indexOf("]");-1==l?(i=e,r++):0==l?(i=i[s],t[r].name=""+i.length):(i=i[s],t[r].name=n.substring(0,l)+n.substring(l+1))}}return e},JCSmartFilter.prototype.hideFilterProps=function(t){var e=t.parentNode,i=e.querySelector("[data-role='bx_filter_block']");e.querySelector("[data-role='prop_angle']");if(BX.hasClass(e,"bx-active"))i.style.overflow="hidden",new BX.easing({duration:300,start:{height:i.offsetHeight,marginTop:16,opacity:100},finish:{height:0,marginTop:0,opacity:0},transition:BX.easing.transitions.linear,step:function(t){i.style.height=t.height+"px",i.style.marginTop=t.marginTop+"px",i.style.opacity=t.opacity/100},complete:function(){i.setAttribute("style",""),BX.removeClass(e,"bx-active")}}).animate();else{BX.adjust(i,{style:{height:"auto",display:"block",opacity:0,overflow:"hidden"}});var r=i.offsetHeight;i.style.height=0,new BX.easing({duration:300,start:{height:0,marginTop:0,opacity:0},finish:{height:r,marginTop:16,opacity:100},transition:BX.easing.transitions.linear,step:function(t){i.style.height=t.height+"px",i.style.marginTop=t.marginTop+"px",i.style.opacity=t.opacity/100},complete:function(){i.setAttribute("style",""),BX.addClass(e,"bx-active")}}).animate()}},JCSmartFilter.prototype.showDropDownPopup=function(t,e){var i=t.querySelector('[data-role="dropdownContent"]');this.popups["smartFilterDropDown"+e]=BX.PopupWindowManager.create("smartFilterDropDown"+e,t,{autoHide:!0,offsetLeft:0,offsetTop:3,overlay:!1,draggable:{restrict:!0},closeByEsc:!0,className:"bx-filter-popup-window",content:BX.clone(i)}),i.parentNode.appendChild(BX("smartFilterDropDown"+e)),this.popups["smartFilterDropDown"+e].show()},JCSmartFilter.prototype.selectDropDownItem=function(t,e){this.keyup(BX(e)),BX.findParent(BX(e),{className:"bx-filter-select-container"},!1).querySelector('[data-role="currentOption"]').innerHTML=t.innerHTML,BX.PopupWindowManager.getCurrentPopup().close()},BX.namespace("BX.Iblock.SmartFilter"),BX.Iblock.SmartFilter=function(){var t=function(t){"object"==typeof t&&(this.leftSlider=BX(t.leftSlider),this.rightSlider=BX(t.rightSlider),this.tracker=BX(t.tracker),this.trackerWrap=BX(t.trackerWrap),this.minInput=BX(t.minInputId),this.maxInput=BX(t.maxInputId),this.minPrice=parseFloat(t.minPrice),this.maxPrice=parseFloat(t.maxPrice),this.curMinPrice=parseFloat(t.curMinPrice),this.curMaxPrice=parseFloat(t.curMaxPrice),this.fltMinPrice=t.fltMinPrice?parseFloat(t.fltMinPrice):parseFloat(t.curMinPrice),this.fltMaxPrice=t.fltMaxPrice?parseFloat(t.fltMaxPrice):parseFloat(t.curMaxPrice),this.precision=t.precision||0,this.priceDiff=this.maxPrice-this.minPrice,this.leftPercent=0,this.rightPercent=0,this.fltMinPercent=0,this.fltMaxPercent=0,this.colorUnavailableActive=BX(t.colorUnavailableActive),this.colorAvailableActive=BX(t.colorAvailableActive),this.colorAvailableInactive=BX(t.colorAvailableInactive),this.isTouch=!1,this.init(),"ontouchstart"in document.documentElement?(this.isTouch=!0,BX.bind(this.leftSlider,"touchstart",BX.proxy(function(t){this.onMoveLeftSlider(t)},this)),BX.bind(this.rightSlider,"touchstart",BX.proxy(function(t){this.onMoveRightSlider(t)},this))):(BX.bind(this.leftSlider,"mousedown",BX.proxy(function(t){this.onMoveLeftSlider(t)},this)),BX.bind(this.rightSlider,"mousedown",BX.proxy(function(t){this.onMoveRightSlider(t)},this))),BX.bind(this.minInput,"keyup",BX.proxy(function(t){this.onInputChange()},this)),BX.bind(this.maxInput,"keyup",BX.proxy(function(t){this.onInputChange()},this)))};return t.prototype.init=function(){var t;this.curMinPrice>this.minPrice&&(t=this.curMinPrice-this.minPrice,this.leftPercent=100*t/this.priceDiff,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),this.setMinFilteredValue(this.fltMinPrice),this.curMaxPrice<this.maxPrice&&(t=this.maxPrice-this.curMaxPrice,this.rightPercent=100*t/this.priceDiff,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.setMaxFilteredValue(this.fltMaxPrice)},t.prototype.setMinFilteredValue=function(t){if(this.fltMinPrice=parseFloat(t),this.fltMinPrice>=this.minPrice){var e=this.fltMinPrice-this.minPrice;this.fltMinPercent=100*e/this.priceDiff,this.leftPercent>this.fltMinPercent?this.colorAvailableActive.style.left=this.leftPercent+"%":this.colorAvailableActive.style.left=this.fltMinPercent+"%",this.colorAvailableInactive.style.left=this.fltMinPercent+"%"}else this.colorAvailableActive.style.left="0%",this.colorAvailableInactive.style.left="0%"},t.prototype.setMaxFilteredValue=function(t){if(this.fltMaxPrice=parseFloat(t),this.fltMaxPrice<=this.maxPrice){var e=this.maxPrice-this.fltMaxPrice;this.fltMaxPercent=100*e/this.priceDiff,this.rightPercent>this.fltMaxPercent?this.colorAvailableActive.style.right=this.rightPercent+"%":this.colorAvailableActive.style.right=this.fltMaxPercent+"%",this.colorAvailableInactive.style.right=this.fltMaxPercent+"%"}else this.colorAvailableActive.style.right="0%",this.colorAvailableInactive.style.right="0%"},t.prototype.getXCoord=function(t){var e=t.getBoundingClientRect(),i=document.body,r=document.documentElement,o=window.pageXOffset||r.scrollLeft||i.scrollLeft,s=r.clientLeft||i.clientLeft||0,n=e.left+o-s;return Math.round(n)},t.prototype.getPageX=function(t){t=t||window.event;var e=null;if(this.isTouch&&null!=event.targetTouches[0])e=t.targetTouches[0].pageX;else if(null!=t.pageX)e=t.pageX;else if(null!=t.clientX){var i=document.documentElement,r=document.body;e=t.clientX+(i.scrollLeft||r&&r.scrollLeft||0),e-=i.clientLeft||0}return e},t.prototype.recountMinPrice=function(){var t=this.priceDiff*this.leftPercent/100;(t=(this.minPrice+t).toFixed(this.precision))!=this.minPrice?this.minInput.value=t:this.minInput.value="",smartFilter.keyup(this.minInput)},t.prototype.recountMaxPrice=function(){var t=this.priceDiff*this.rightPercent/100;(t=(this.maxPrice-t).toFixed(this.precision))!=this.maxPrice?this.maxInput.value=t:this.maxInput.value="",smartFilter.keyup(this.maxInput)},t.prototype.onInputChange=function(){var t;if(this.minInput.value){var e=this.minInput.value;e<this.minPrice&&(e=this.minPrice),e>this.maxPrice&&(e=this.maxPrice),t=e-this.minPrice,this.leftPercent=100*t/this.priceDiff,this.makeLeftSliderMove(!1)}if(this.maxInput.value){var i=this.maxInput.value;i<this.minPrice&&(i=this.minPrice),i>this.maxPrice&&(i=this.maxPrice),t=this.maxPrice-i,this.rightPercent=100*t/this.priceDiff,this.makeRightSliderMove(!1)}},t.prototype.makeLeftSliderMove=function(t){t=!1!==t,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%";var e=!1;this.leftPercent+this.rightPercent>=100&&(e=!0,this.rightPercent=100-this.leftPercent,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.leftPercent>=this.fltMinPercent&&this.leftPercent<=100-this.fltMaxPercent?(this.colorAvailableActive.style.left=this.leftPercent+"%",e&&(this.colorAvailableActive.style.right=100-this.leftPercent+"%")):this.leftPercent<=this.fltMinPercent?(this.colorAvailableActive.style.left=this.fltMinPercent+"%",e&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%")):this.leftPercent>=this.fltMaxPercent&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%",e&&(this.colorAvailableActive.style.right=this.fltMaxPercent+"%")),t&&(this.recountMinPrice(),e&&this.recountMaxPrice())},t.prototype.countNewLeft=function(t){var e=this.getPageX(t),i=this.getXCoord(this.trackerWrap),r=this.trackerWrap.offsetWidth,o=e-i;return o<0?o=0:o>r&&(o=r),o},t.prototype.onMoveLeftSlider=function(t){return this.isTouch||(this.leftSlider.ondragstart=function(){return!1}),this.isTouch?(document.ontouchmove=BX.proxy(function(t){this.leftPercent=100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()},this),document.ontouchend=function(){document.ontouchmove=document.touchend=null}):(document.onmousemove=BX.proxy(function(t){this.leftPercent=100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()},this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null}),!1},t.prototype.makeRightSliderMove=function(t){t=!1!==t,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%";var e=!1;this.leftPercent+this.rightPercent>=100&&(e=!0,this.leftPercent=100-this.rightPercent,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),100-this.rightPercent>=this.fltMinPercent&&this.rightPercent>=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.rightPercent+"%",e&&(this.colorAvailableActive.style.left=100-this.rightPercent+"%")):this.rightPercent<=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.fltMaxPercent+"%",e&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%")):100-this.rightPercent<=this.fltMinPercent&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%",e&&(this.colorAvailableActive.style.left=this.fltMinPercent+"%")),t&&(this.recountMaxPrice(),e&&this.recountMinPrice())},t.prototype.onMoveRightSlider=function(t){return this.isTouch||(this.rightSlider.ondragstart=function(){return!1}),this.isTouch?(document.ontouchmove=BX.proxy(function(t){this.rightPercent=100-100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()},this),document.ontouchend=function(){document.ontouchmove=document.ontouchend=null}):(document.onmousemove=BX.proxy(function(t){this.rightPercent=100-100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()},this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null}),!1},t}();