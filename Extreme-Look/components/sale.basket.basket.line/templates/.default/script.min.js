"use strict";function BitrixSmallCart(){}BitrixSmallCart.prototype={activate:function(){this.cartElement=BX(this.cartId),BX.addCustomEvent(window,"OnBasketChange",this.closure("refreshCart",{action:"addToCart"})),BX.addCustomEvent(window,"OnBasketDelayChange",this.closure("refreshCart",{action:"addToDelay"}))},closure:function(t,e){var a=this;return e?function(){a[t](e)}:function(e){a[t](e)}},refreshCart:function(t){t.sessid=BX.bitrix_sessid(),t.siteId=this.siteId,t.templateName=this.templateName,t.arParams=this.arParams,BX.ajax({url:this.ajaxPath,method:"POST",dataType:"html",data:t,onsuccess:"addToDelay"==t.action?this.closure("setCartDelayBody"):this.closure("setCartBody")})},setCartBody:function(t){if(this.cartElement){this.cartElement.innerHTML=t;var e=this.cartElement.querySelector('[data-entity="cart"]');e&&(BX.addClass(e,"shake shake-constant"),setTimeout(function(){BX.removeClass(e,"shake shake-constant")},1e3))}},setCartDelayBody:function(t){if(this.cartElement){this.cartElement.innerHTML=t;var e=this.cartElement.querySelector('[data-entity="delay"]');e&&(BX.addClass(e,"shake shake-constant"),setTimeout(function(){BX.removeClass(e,"shake shake-constant")},1e3))}}};